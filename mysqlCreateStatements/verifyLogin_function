USE `Asrcoo`;
DROP function IF EXISTS `verifyLogin`;

DELIMITER $$
USE `Asrcoo`$$
CREATE FUNCTION `verifyLogin` (username VARCHAR(45),password VARCHAR(45))
RETURNS INTEGER DETERMINISTIC
BEGIN
	-- allocate memory for my vars
	DECLARE result INTEGER;
    DECLARE auth_string varchar(45);
    -- default action is invalid login
    set result =0;
	set auth_string = (select authentication_string from user
				where user_name = username);
	IF (password = auth_string)
		THEN set result =1;
	END IF;
    -- validation bit
    RETURN result;
END$$

DELIMITER ;



